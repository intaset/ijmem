<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="robots" content="noarchive">
<meta name="description" content="The Volume 1, Issue 1 published for IJMEM Journal.">
<meta name="keywords" content="avestia, publishing, journals, papers, science, renewable energy">
<title>IJMEM - Global Localization of a Mobile Robot by Data Fusion Attitude and Heading Reference Systems</title>

<meta name="handheldfriendly" content="true">
<meta name="mobileoptimized" content="240">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="../css/avestia.css" rel="stylesheet">
<link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic|Merriweather:400,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
<link rel="shortcut icon" href="../img/icon.ico" type="image/x-icon">
<!--[if IE-9]><html lang="en" class="ie9"><![endif]-->

<script src="../js/modernizr.custom.63321.js"></script>
<script type="text/javascript" src="../mostvisited.js"></script> 
<script type="text/javascript" src="../mostvisitedExt.js"></script> 
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68628727-1', 'auto');
  ga('send', 'pageview');

</script>
<script>
  (function() {
    var cx = '016656741306535874023:xhaoyed1mks';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
</head>
<body class="loading">
<nav id="slide-menu">
  <h1>Avestia Publishing</h1>
  <ul>
    <li><a href="http://avestia.com/about">About Us</a></li>
    <li><a href="http://avestia.com/ethics">Ethics in Publishing</a></li>
    <li><a href="http://avestia.com/openaccess">Open Access</a></li>
    <li><a href="http://avestia.com/editor">Become a Reviewer or an Editor</a></li>
    <li><a href="http://avestia.com/publishing">Your Publishing Needs</a></li>
    <li><a href="http://avestia.com/proceedings">Conference Proceedings</a></li>
    <li><a href="http://avestia.com/news">Latest News</a></li>
    <li><a href="http://avestia.com/guidelines">Author Guidelines</a></li>
    <li><a href="http://avestia.com/journals">Journals</a></li>
    <li><a href="http://amss.avestia.com/">Submission</a></li>
    <li><a href="http://avestia.com/copyright">Copyright</a></li>
    <li><a href="http://avestia.com/contact">Contact Us</a></li>
  </ul>
</nav>

<div id="content">
  <div class="desktop">
<div class="cbp-af-header">
  <div class="cbp-af-inner grid">
    <div class="unit unit-s-2-8 unit-m-2-8 unit-l-1-7">
      <a href="http://avestia.com"><img src="../img/logo.svg" class="flex-logo" alt="Avestia Publishing"></a>
    </div>

    <div class="unit unit-s-1-2 unit-m-4-0 unit-l-5-1">
    <div class="nav1">
      <nav>
        <a href="http://avestia.com">Home</a>
        <a href="http://amss.avestia.com/">Submission</a>
        <a href="http://avestia.com/journals">Journals</a>
        <a href="http://avestia.com/ethics">Ethics in Publishing</a>
        <a href="http://avestia.com/guidelines">Author Guidelines</a>
      </nav>
    </div>
    </div>

    <div class="unit unit-s-3-4 unit-m-3-5 unit-l-1-6 unit-l-3-2">
    <div class="search-menu">
      <div class="menu-trigger-1"><p class="menu">MENU</p></div><br>
      <gcse:searchbox-only resultsUrl="../results"></gcse:searchbox-only>
    </div>
    </div>

    <div class="unit unit-s-1 unit-m-1 unit-l-1">
    <div class="nav">
      <nav>
        <a href="http://avestia.com">Home</a>
        <a href="http://amss.avestia.com/">Submission</a>
        <a href="http://avestia.com/journals">Journals</a>
        <a href="http://avestia.com/ethics">Ethics in Publishing</a>
        <a href="http://avestia.com/guidelines">Author Guidelines</a>
      </nav>
    </div>
    </div>
  </div>
</div>
  </div>

  <header>
    <div class="mobile">
      <div class="cbp-af-header">
  <div class="cbp-af-inner">
    <div class="unit unit-s-3-4 unit-m-1-3 unit-l-1-3">
          <a href="http://avestia.com"><img src="../img/logo.svg" class="flex-logo" alt="Avestia Publishing"></a>
      </div>
      <div class="unit unit-s-1-3 unit-m-2-3 unit-m-2-3-1 unit-l-2-3">
          <div class="menu-trigger"></div>
      </div>
  </div>
</div>
      <div class="bg">
        <gcse:searchbox-only resultsUrl="../results"></gcse:searchbox-only>
      </div>
    </div> <!-- Mobile -->
  </header>

  <div class="j-header-article">
  <div class="name">
    <h1>International Journal of Mechanical Engineering and Mechatronics (IJMEM)<br>
    <p class="body">ISSN: 1929-2724</p></h1>
    <div class="oalink">
    <a href="http://avestia.com/openaccess" target="blank" title="Avestia's Open Access">
          <img src="../img/j-oa.png" border="0" onmouseover="this.src='../img/j-oa-hover.png'" onmouseout="this.src='../img/j-oa.png'" class="j-oa">
    </a>
  </div>
  </div>
</div>

  <div role="navigation" class="navbar navbar-default">
  <ul>
    <li><a href="../">Journal Home</a></li>
    <li><a href="../aims">Aims & Scopes</a></li>
    <li><a href="../fee">Publishing Fee</a></li>
    <li><a href="../board">Editorial Board</a></li>
    <li><button data-target=".navbar-collapse" data-toggle="collapse" class="navbar-toggle" type="button">Volumes</button></li>
    <li><a href="../contact">Contact Us</a></li>
  </ul>
  <div class="navbar-collapse collapse">
    <ul class="nav navbar-nav">
      <li><a href="../volume1/issue1.html">Volume 1, Issue 1</a></li>
      <li><a href="../volume1/issue2.html">Volume 1, Issue 2</a></li>
      <li><a href="../volume2">Volume 2</a></li>
      <li><a href="../current">Current Volume</a></li>
    </ul>
  </div><!--/.nav-collapse -->
</div>

<div class="grid">
<div class="unit unit-s-1 unit-m-1 unit-l-1">
  <div class="main-content j-home">
    <div class="unit unit-s-1 unit-s-1-2 unit-m-1-2 unit-l-1-2">
      <p class="body">
      Volume 3 - Year 2015 - Pages 1-9<br>
      DOI: 10.11159/ijmem.2015.001</p>
    </div>

    <div class="unit unit-s-1 unit-s-1-2 unit-m-1-2 unit-l-1-2 a-link">
        <a href="PDF/001.pdf" class="body-link" class="body-link">View PDF (Full-text)</a><br>
      <a href="#references" class="body-link">Linked References</a>
    </div>

    <h3 class="center">Global Localization of a Mobile Robot by Data Fusion Attitude and Heading Reference Systems</h3>

    <p class="body-bold center">B. Benito Salmer&uacute;n-Quiroz<sup>1</sup>, Gerardo Villegas-Medina<sup>1</sup>, Salvador A. Rodriguez-Paredes<sup>1</sup>, Rodolfo Villalobos-Martinez<sup>1</sup>, Luis Castillo Berm&uacute;dez<sup>2</sup></p>

    <p class="body center"><sup>1</sup>Instituto Polit&eacute;cnico Nacional (I.P.N.), SEPI ESIME Azcapotzalco<br>
Av. de la Granjas 682, 02250, D.F., M&eacute;xico.,<br>
Universidad Polit&eacute;cnica de Puebla<br>
<sup>2</sup>Universidad Polit&eacute;cnica de Puebla, Tercer Carril del Ejido "Serrano" s/n  San Mateo Cuanal&aacute;. Juan C. 
Bonilla, Puebla <br>
<sup></sup>bsalmeron@ipn.mx<br></p>

    <p class="body"><b>Abstract</b> - <i>Generally, the attitude estimation and the measurement of the angular velocity are a requirement for the attitude control. As a result, the computational cost and the complexity of the control loop are relatively high. In the present paper, a technique for attitude stabilization is proposed; the technique proposed is designed with attitude estimation based in data fusion of an Attitude and Heading Reference System AHRS. With this approach, only the measurements of at least two non collinear directional sensors are needed. Since the control laws are highly simple and a model based in an observer for angular velocity reconstruction is not needed, the proposed new strategy is very suitable for embedded implementations. The global convergence of the estimation techniques is proved. Simulations with some robustness tests are performed.</i></p>

    <p class="body"><b><i>Keywords:</i></b> Data fusion, MEMS sensors, quaternion, non linear observer, global optimization, Robotic.</p>

    <p class="body">© Copyright 2015 Authors This is an Open Access article published under the <a href="http://creativecommons.org/licenses/by/3.0" class="body-link" target="_blank" class="body-link">Creative Commons Attribution License terms</a>. Unrestricted use, distribution, and reproduction in any medium are permitted, provided the original work is properly cited.</p>

    <p class="body">Date Received: 2013-24-10<br />

Date Accepted: 2014-28-07<br />

Date Published: 2015-29-05</p>

  <div class="border"></div>

  <div class="indent">
<h4>1. Introduction</h4> 
<p class="body"> Autonomous robotic
systems have been suggested for a number of applications such as unmanned
aerial vehicles, unmanned underwater vehicles and robots manipulators in
medical applications and Mobile Robot. The field of mobile robot navigation is
active and vibrant, with more great systems and ideas being developed
continuously. For this reason the examples presented in this paper serve only
to represent their respective categories, but they do not represent a judgment
by the authors. Many ingenious approaches can be found in the literature,
although, for reasons of brevity, not all could be cited in this paper.</p>

<p class="subhead">1. 1. Related Work</p>

<p class="body">Exact knowledge of the
position of a vehicle is a fundamental problem in mobile robot applications. In search for a solution, researchers and engineers have developed a variety of
systems, sensors, and techniques for mobile robot positioning [4][7]. The many
partial solutions can roughly be categorized into two groups: relative and absolute
position measurements [6]. Because of the lack of a single good method,
developers of mobile robots usually combine two methods, one from each group.
The two groups can be further divided into the following seven categories:</p>

<p class="body">I:
Relative Position Measurements (also called Dead-reckoning)</p>

<p class="body">1.
Odometry</p>

<p class="body">2.
Inertial Navigation</p>

<p class="body">II:
Absolute Position Measurements (Reference-based systems)</p>

<p class="body">3.
Magnetic Compasses</p>

<p class="body">4.
Active Beacons</p>

<p class="body">5.
Global Positioning Systems</p>

<p class="body">6.
Landmark Navigation</p>

<p class="body">7.
Model Matching</p>

<p class="body">In this paper a model and inertial navigation system is presented.</p>

<p class="body"><strong>Inertial Navigation</strong></p>

<p class="body">Inertial
navigation uses gyroscopes and accelerometers to measure rate of rotation and acceleration, respectively. Measurements are integrated once (or twice, for
accelerometers) to yield position. Inertial navigation systems have the advantage that they are self-contained, that is, they don't need external references. However, inertial sensor data drift with time because of the need to integrate rate data to yield position; any small constant error increases
without bound after integration. Inertial sensors are thus mostly unsuitable
for accurate positioning over an extended period of time [3].</p>

<p class="body"><strong>Position of the work</strong></p>

<p class="body">A fundamental
requirement for an autonomous vehicle is its ability to localize itself with
respect to its environment. Navigation on a flat and horizontal ground only
requires estimations of position and heading. However, in many cases, the
environment is not so well structured, and the angular orientation of the vehicle
may change along its path. In this case, a real time estimation of the attitude
may be necessary. Indoor mobile robots generally need an accurate navigation
system. If they move on inclined planes, the orientation can be used to correct
the position and heading estimations provided by odometry, or to interpret
external sensor data, proximity, in order to build an accurate model of the
environment, recent use of MEMs has been introduced.</p>

<p class="body">The attitude
estimation of an autonomous vehicle is a subject that has attracted a strong
interest the last years. This is due to the fact that can be applied to
multiple applications, such as spacecrafts, satellites, tactical missiles,
where the attitude is essential for control or monitoring purposes. In the last
decade the application of Micro-Electro-Mechanical-Systems (MEMS) has gained a
strong of interest. In addition to traditional attitude estimation in aerospace
and automobile communities, the reduced cost of MEMS inertial sensors has
spurred new applications in robotics, virtual reality and biomechanics [1].
Furthermore, this increasingly interest has motivated the development of low
cost, lightweight and low-power consumption Attitude and Heading Reference
System (AHRS).</p>

<p class="body">An AHRS is
composed of inertial and magnetic sensors, namely, three rate gyros, three
accelerometer and three magnetometers, orthogonally mounted such that the
sensor frame axes coincide with the body frame in question. This attitude
estimation problem is described as following: Rate gyros provide continuous
attitude information with good short-term stability when their measurements are
integrated. The attitude (orientation) of a rigid body can be parameterized by
several methods: for instance, Euler's angles, Cardan angles and unit
quaternion. The unit quaternion is a four parameter representation with one
constraint. Therefore, it yields the lowest dimensionality possible for a
globally non-singular representation of the attitude. For more details on
attitude representations, the reader can refer to the survey written by Shuster
[10]. Several approaches have been applied to the attitude estimation problem.
These estimators fall into three main families.</p>

<p class="body">The first one deals with a constraint least-square minimization problem proposed firstly by
Wahba [12]. These techniques have been adapted to sequentially estimate
time-varying attitude [5].</p>

<p class="body">The second
approach is within the framework of the Extended Kalman Filter [2] (EKF). Its
major feature concerns the ability to fuse signals acquired from different
sensor types. An excellent survey of these methods is given in [10].</p>

<p class="body">The third
approach issues from nonlinear theory, and non linear observers are applied to
the attitude determination problem [8], [11], [12]. In this approach, the
convergence of the error to zero is proved in a Lyapunov sense.</p>

<p class="body">In this
paper, an attitude estimator using quaternion representation is studied. Two
approaches are jointly used, namely a constraint least-square minimization
technique and a prediction technique. The prediction is performed in order to
produce a pseudo-estimate of the acceleration and of the attitude quaternion.
This predictor is driven by a quaternion pseudo-measurement error which is
obtained from the quaternion propagated through the kinematic equation and the
one obtained via the constraint minimization problem. Actually, this latter
problem is divided in three steps. First, the body accelerations are estimated
from the previously computed quaternion. Using these updated accelerometer
measurements together with the magnetometer measurements; a pseudo-measure
quaternion is estimated via an optimization technique.</p>

<p class="body">In this work
an inertial navigation system (AHRS) is used and presented in section 3 that
provided the data necessary to the model presented in section 4.</p>

<p class="body">The present paper is
organized as follows. In section 2 a quaternion-based formulation of the
orientation of rigid body is given. The problem statement is formulated in
section 3. The attitude's estimation and prediction is presented in section 4.
Simulation results are given in section 5-A. The paper ends with some
concluding remarks given in section 6.</p>

<h4>2. Mathematical Background</h4>
<p class="body">As mentioned in the introduction, the attitude of a rigid body can be represented by a unit
quaternion, consisting of a unit vector <img src="001_files/image001.png"> known as the
Euler axis, and a rotation angle &#946; about this axis. The quaternion <img src="001_files/image002.png"> is then defined as follows:</p>

<div class="equation">
<img src="001_files/image003.png" class="eqn">
<div class="eqn-number">(1)</div>
</div>

<p class="body">Where</p>

<div class="equation">
<img src="001_files/image004.png" class="eqn">
<div class="eqn-number">(2)</div>
</div>

<p class="body"><img src="001_files/image005.png"> and <img src="001_files/image006.png"> are known as the vector and scalar partis of
the quaternion recpectively. In attitude control aplications, the unit
quaternion represents the rotation from an inertial coordinate system <img src="001_files/image007.png"> located at some point in the space (for
instance, the earth NED frame), to the body coordinate system <img src="001_files/image008.png"> located on the center of mass of a rigid body.</p>

<p class="body">If <img src="001_files/image009.png"> is a vector
expressed in <img src="001_files/image010.png">, then its coordinates in <img src="001_files/image011.png"> are
expressed by:</p>

<div class="equation">
<img src="001_files/image012.png" class="eqn">
<div class="eqn-number">(3)</div>
</div>

<p class="body">Where <img src="001_files/image013.png"> and <img src="001_files/image014.png"> are the quaternions associated to vectors <img src="001_files/image015.png"> and <img src="001_files/image009.png"> respectively. <img src="001_files/image016.png"> denotes the quaternion multiplication and <img src="001_files/image017.png"> is the conjugate quaternion multiplication of q, defined as:</p>

<div class="equation">
<img src="001_files/image018.png" class="eqn">
<div class="eqn-number">(4)</div>
</div>

<p class="body">The rotation
matrix C(q) corresponding to the attitude quaternion q, is computed as:</p>

<div class="equation">
<img src="001_files/image019.png" class="eqn">
<div class="eqn-number">(5)</div>
</div>

<p class="body">Where <img src="001_files/image020.png"> is the identity matrix and <img src="001_files/image021.png"> is a skew symmetric tensor associated with the axis vector <img src="001_files/image022.png">:</p>

<div class="equation">
<img src="001_files/image023.png" class="eqn">
<div class="eqn-number">(6)</div>
</div>

<p class="body">Thus, the coordinate of vector <img src="001_files/image009.png"> expressed in
the B frame is given by:</p>

<div class="equation">
<img src="001_files/image024.png" class="eqn">
<div class="eqn-number">(7)</div>
</div>

<p class="body">The quaternion attitude error used to
quantify the mismatch between two attitudes <img src="001_files/image025.png"> and <img src="001_files/image026.png"> is computed by:</p>

<div class="equation">
<img src="001_files/image027.png" class="eqn">
<div class="eqn-number">(8)</div>
</div>

<h4>3. Problem Statement</h4>
<p class="body">In the case of the
attitude estimation, one seeks to estimate the attitude and accelerations of a
rigid body. From now on it is assumed that the system is equipped with a tri
axis accelerometer, three magnetometer and three rate gyros mounted
orthogonally.</p>

<figure>
<img src="001_files/image028.jpg" class="article-img">

<figcaption>
Figure 1. Prototype of the mobile robot.</figcaption>
</figure>


<p class="body">In this section we
describe the body's kinematic of the model. In the present work, our typical
capture configuration relies primarily on on the Robot of figure 1 equipped
with twelve 1 inch diameter wheels driven by 3 DC gear head motors. The
mechanical model is based on single pinion architecture suitable for light
vehicles. The combination of this information jointly to knowledge a priori of
the robot makes possible to obtain information on the mobile robots respect to the base.</p>

<p class="body">The controller was able
to set the power level to each motor independently, but there was no feedback
loop based on tachometers, or current sensing. In order to estimate the
attitude robot position with respect to an inertial frame, a module containing
three rate gyros, three accelerometer and three magnetometer assembled in tri
axis, are positioned near the centre of robot. Thus, the attitude for the
articulation is estimated. The combination of this information jointly to
knowledge a priori of the dynamic of the movement of the robot makes possible
to obtain information of the attitude of the robot respect to the base.</p>

<p class="body">The equation describing
the relation between the quaternion and the body's kinematic is given in
introducing the angular variation</p>

<p class="body"><img src="001_files/image029.png">
From this, it follows.</p>

<div class="equation">
<img src="001_files/image030.png" class="eqn">
<div class="eqn-number">(9)</div>
</div>

<p class="body">Where <img src="001_files/image031.png"> y <img src="001_files/image032.png"> are defined as:</p>

<div class="equation">
<img src="001_files/image033.png" class="eqn">
<div class="eqn-number">(10)</div>
</div>

<div class="equation">
<img src="001_files/image034.png" class="eqn">
<div class="eqn-number">(11)</div>
</div>

<p class="body">The quaternion must be:</p>

<div class="equation">
<img src="001_files/image035.png" class="eqn">
<div class="eqn-number">(12)</div>
</div>

<p class="body">In the other hand, the matrix <img src="001_files/image032.png">
has the relation:</p>

<div class="equation">
<img src="001_files/image036.png" class="eqn">
<div class="eqn-number">(13)</div>
</div>

<div class="equation">
<img src="001_files/image037.png" class="eqn">
</div>

<div class="equation">
<img src="001_files/image038.png" class="eqn">
</div>

<p class="body">Generally <img src="001_files/image039.png">, for any <img src="001_files/image040.png">.</p>

<div class="equation">
<img src="001_files/image041.png" class="eqn">
<div class="eqn-number">(14)</div>
</div>

<p class="body">That is denoted like the
orientation matrix 3-D of dimension 3x3.</p>

<p class="subhead">3. 1. Modeling sensors</p>

<p class="body">1) Rate
Gyros: The angular velocity <img src="001_files/image042.png"> is measured by the rate gyros, which are supposed
to be orthogonally mounted. The output signal of a rate gyro is influenced by
various factors, such as bias drift and noise. Since an integration step is
required in order to obtain the current attitude quaternion (9), even the
smallest variation of the rate gyro measurement will produce a wrong estimation
of the attitude. The bias is denoted by <img src="001_files/image043.png">, belonging to space <img src="001_files/image044.png">. The rate gyro measurements are modeled
by [7]:</p>

<div class="equation">
<img src="001_files/image045.png" class="eqn">
<div class="eqn-number">(15)</div>
</div>

<div class="equation">
<img src="001_files/image046.png" class="eqn">
<div class="eqn-number">(16)</div>
</div>

<p class="body">Where <img src="001_files/image047.png"> and are <img src="001_files/image048.png"> supposed by Gaussian
white noises and <img src="001_files/image049.png"> is a diagonal matrix of time constants. In this case, the constant <img src="001_files/image050.png"> which has been set to 100 s.
The bias vector <img src="001_files/image051.png"> will
be estimated online, using the observer presented in the following section.</p>

<p class="body">2)
Accelerometers: Since the 3-axis accelerometer is fixed to the body, the
measurements are expressed in the body frame B. Thus, the accelerometer output
can be written as:</p>

<div class="equation">
<img src="001_files/image052.png" class="eqn">
<div class="eqn-number">(17)</div>
</div>

<p class="body">where <img src="001_files/image053.png"> and <img src="001_files/image054.png"> are the gravity vector and the
inertial accelerations of the body respectively. Both are expressed in frame N.
g = 9:81 m/sec2 denotes the gravitational constant and <img src="001_files/image055.png"> is the vector of noises that are supposed to be white Gaussian.</p>

<p class="body">3)
Magnetometers: The magnetic field vector <img src="001_files/image056.png"> is expressed in the N frame it is supposed to be <img src="001_files/image057.png">. Since the
measurements take place in the body frame B, they are given by:</p>

<div class="equation">
<img src="001_files/image058.png" class="eqn">
<div class="eqn-number">(18)</div>
</div>

<p class="body">Where <img src="001_files/image059.png"> denotes the perturbing magnetic field. This perturbation vector is supposed to be modeled by Gaussian white noises.</p>

<h4>4. Attitude's Estimation and Prediction</h4><p class="body">The attitude estimator
uses quaternion representation. Two approaches are jointly used, namely a
estimation with a constraint least-square minimization technique and a
prediction of the estate at the instant k. The prediction is performed in order
to produce a pseudo-estimate of the accelerations and the attitude quaternion.
This prediction is driven by a estate which is obtained from the quaternion
propagated through the kinematic equation and the one obtained via the
constraint minimization problem.</p>

<p class="body">Actually, this latter
problem is divided in three steps. First, the body accelerations are estimated
from the previously computed quaternion. Then, the influence of the body
accelerations is predicted from the accelerometer measurements. Using these
updated accelerometer measurements together with the magnetometer measurements,
a pseudo-measure estate is estimated via an optimization technique. In this
way, the quaternion that is obtained by the estimation with a constraint
least-square is insensitive to the body accelerations. Thus, no assumptions of
the weakness (or not) of the accelerations are done, and no switching procedure
from one model to another one is necessary. Therefore, the main advantage of
the approach presented in this paper compared to others approaches, is that the
estimated attitude remains valid even in the presence of high accelerations
over long time periods.</p>

<p class="body">In this paper a critter
that takes in account the evolution of the attitude state via determination of <img src="001_files/image060.png"> in the function <img src="001_files/image061.png"> is proposed. The minimum error is chosen, but
it takes in account the prediction of the state <img src="001_files/image062.png"> and the
coefficients of weight for the state <img src="001_files/image063.png"> and the
measures estimated (MesEstimated = MS) at the instant k.</p>

<div class="equation">
<img src="001_files/image064.png" class="eqn">
<div class="eqn-number">(19)</div>
</div>

<p class="body"> with <img src="001_files/image065.png" class="eqn"></p>

<p class="body">The process of Estimation and Prediction needs
the determination of his gradient; this one is obtained by equation 19</p>

<div class="equation">
<img src="001_files/image066.png" class="eqn">
<div class="eqn-number">(20)</div>
</div>

<div class="equation">
<img src="001_files/image067.png" class="eqn">
</div>


<p class="body">Similarly, is the obtention for the gradient of
the state for the case of acceleration.</p>

<p class="body">Finally, the total Gradient is obtained by the
fusion between the calcule show for the quaternion case a the gradient omitted
for the acceleration case.</p>

<div class="equation">
<img src="001_files/image068.png" class="eqn">
<div class="eqn-number">(21)</div>
</div>

<p class="body">Fort he prediction's process of <img src="001_files/image062.png">, several technique have been validated, for purpose of simplicity, the prediction via
spline is chosen. Cubic spline is a spline constructed of piecewise third-order
polynomials wich pass through a set of n control points.</p>

<p class="body">Suppose we are n+1 data points <img src="001_files/image069.png"> such that.</p>

<p class="body"><img src="001_files/image070.png"> Then the coefficients of the vector<img src="001_files/image063.png"> exists cubic
polynomials with coefficients <img src="001_files/image071.png"> <img src="001_files/image072.png"> such that the following hold.</p>

<p class="body">1) <img src="001_files/image073.png"></p>

<p class="body">2) <img src="001_files/image074.png"></p>

<p class="body">3) <img src="001_files/image075.png"></p>

<p class="body">4) <img src="001_files/image076.png"></p>

<p class="body">5) <img src="001_files/image077.png"></p>

<p class="body">So we see that the cubic spline not only
interpolates the data <img src="001_files/image069.png"> but matches the first and second derivatives at
the knots. Notice, from the above definition, one is free to specify constrains
on the endpoints. The end point constrain <img src="001_files/image078.png"> is chose.</p>

<p class="body">The
estimation of the torque is part of another work that is in process and only we
present his basic model. Since the driver torque is not measured in line, we
introduce an estimator for <img src="001_files/image079.png">, Essentially, the estimated value of the driver
torque is</p>

<div class="equation">
<img src="001_files/image080.png" class="eqn">
<div class="eqn-number">(22)</div>
</div>

<p class="body">Where <img src="001_files/image081.png"> is the torque in the steering column part and <img src="001_files/image082.png"> is the assist motor torque. In order that <img src="001_files/image083.png"> can be physically realizable (numerator degree
of the transfer function is always less or equal than denominator degree), it
is necessary to introduce a correction transfer function <img src="001_files/image084.png"> to maintain the properness. With this correction, the inverse transfer function becomes</p>

<div class="equation">
<img src="001_files/image085.png" class="eqn">
<div class="eqn-number">(23)</div>
</div>

<h4>5. Results</h4>

<p class="subhead">5. 1. Simulation Results</p>

<p class="body">In this
section, some simulation results are presented in order to show the performance
of the proposed control laws. A rigid body with low moment of inertia is taken
as the experimental system. In fact, the low moment of inertia makes the system
vulnerable to high angular accelerations which proves the importance to apply
the control.</p>

<p class="body">The proposed technique
is compared to the existing methods (namely, the Multiplicative Extended Kalman
Filter (MEKF) and the Additive Kalman Filter (AEKF)). Initial conditions are
set to extreme error values in order to assess the effectiveness of attitude
estimation. These results are depicted in figure 2. The proposed method
performances are similar to those of the Extended Kalman Filter (Multiplicative
and Additive). However, for extreme errors the convergence rate for our
estimation-prediction is higher. For the movements, the acceleration is <img src="001_files/image086.png"> (not weak case) and
the quaternion is arbitrary with q0 far from the initial conditions.</p>

<p class="subhead">5. 2. Experimental results</p>
<p class="body">The estimation
methodology proposed in this work is implemented and evaluated in real time, in
order to assess its effectiveness. For this purpose an embedded system was
designed, and developed ( Figure 3). Special attention was paid to the low
power consumption requirements and weight, leading to the selection of the
Digital Signal Controller dsPIC which was used with a clock speed of 4MHz. It
contains extensive Digital Signal Processor (DSP) functionality with high
performance 16 bit microcontroller (MCU) architecture but without floating
point unit.</p>

<p class="body">The sensor suite is
based on a sensor board equipped with a tri-axis accelerometer (ADXL135), a
dual axis gyro (LPR530AL) and single axis gyro (LY 530ALH) and a tri-axis
magnetometer (Micromag3). All sensors outputs are analog except the Micromag 3
which is digital and uses the Serial Peripheral Interface (SPI) bus system as underlying
physical communication layer. The total system supply voltage is 3.3 V. The
dimension and weight are 60x40x15mm and 60g, respectively. For purpose of
validation A Commercial AHRS [9] is used to acquire the data instead of the
MEMS sensors presented in section (III-A )(Robot showed in virtual reality
figure 1).</p>

<p class="body">(1) The AHRS (sensor
module) was placed to a well known orientation q0 = [1 0 0 0]T (the AHRS is
still in the horizontal and it is headed toward the magnetic north) which
correspond to shoulder angular position:</p>

<div class="equation">
<img src="001_files/image094.png" class="eqn">
</div>

<p class="body">(2) The AHRS is still at q0 for 10 s;</p>

<p class="body">(3) The AHRS is placed
at its initial angular position such that the final and initial orientations
are identical;</p>

<p class="body">(4) For the entire
simulation time span, the signal <img src="001_files/image095.png"> is added to accelerometers channels (That is done
in order to show the ability of the proposed approach to estimate the
acceleration and in the same way to depict the insensibility to non-weak
acceleration).</p>

<p class="body">In Fig. 4, the estimated quaternion <img src="001_files/image096.png"> and the measured quaternion are depicted. As expected, the attitude estimate reaches the true
attitude (which in this case it is well known and represented by: q0 = [1 0 0
0]T ) in suitable time for practical implementation. It can be noticed that
despite the noise, drift bias and non-weak acceleration introduced, the
evolution of the quaternion estimated reaches the values of the initial
attitude q0 = qf = [1 0 0 0]T.</p>

<p class="body">This AHRS also provides the Euler angles. The
methodology of estimation and prediction are implemented in real-time using the
LabView environment. Remember that the attitude estimate is computed using a
unit quaternion formulation. For comparison purpose, the estimate quaternion is
converted into Euler angles.</p>

<figure>
<img src="001_files/image087.jpg" class="article-img">

<figcaption>
(a)
</figcaption>
</figure>

<figure>
<img src="001_files/image090.jpg" class="article-img">

<figcaption>
<p>(b)<br>
Figure 2. Simulation Study.<br>
a) Estimationand Prediction of the Acceleration (<img src="001_files/image088.png">,<img src="001_files/image089.png">)<br>
b) Estimation and Prediction of the Quaternion (<img src="001_files/image091.png">,<img src="001_files/image092.png">)</p>
</figcaption>
</figure>


<figure>
<img src="001_files/image093.jpg" class="article-img">

<figcaption>
Figure 3. Implementation of AHRS prototype.</figcaption>
</figure>


<p class="body">As can be shown, after large angular velocity
change over a long period, the AHRS has a low convergence rate (approx.1 min)
compared to the one achieved with our proposed methodology. On the other hand,
this system doesn't provide the acceleration of the body so for validation we
have done slowly movement and abrupt movement to appreciate the effect of the
acceleration in our method. In figure 4 the global convergence of the
estimation techniques is proved.</p>

<figure>
<img src="001_files/image097.jpg" class="article-img">

<figcaption>
Figure 4. Experimental Data.</figcaption>
</figure>

<h4>6. Conclusions</h4>

<p class="body">This paper presented a
new strategy for attitude estimation of possibly non-symmetric rigid bodies.
Two globally methods of calculation of the body's attitude are proposed, namely
one methodology based in fusion data information provided by a tri-axis
accelerometer, three magnetometer and three rate gyros mounted orthogonally
jointly with prediction of the movement via cubic splines are studied and
simulated. In order to achieve sub-degree accuracies in pitch and roll for ultra-short
baseline attitude systems it is necessary to utilize a known bias algorithm.
This necessitates the development of multiple antenna common oscillator GPS
receivers, in this paper a bias algorithm is presented using low cost MEMs
sensors, the results are very encouraging.</p>

<p class="body">Furthermore, the
attitude estimation is independents of the body's inertia. The numerical
simulations have showed the effectiveness of the proposed methodologies and
their robustness with respect to sensors noise and far initial points.</p>

<p class="body">Moreover, the simplicity
of the methodology makes it suitable for embedded implementation. This control
estimation will be tested in real time application, choosing as application a
mobile robots and the estimation of the signal in embedded technologies.</p>

<h4>7. Acknowledgments</h4>

<p class="body">The authors would like
to thank to the Instituto Polit&eacute;cnico Nacional (I.P.N.) - S.E.P.I. E.S.I.M.E.
U.A and the S.I.P. for the projects 20150607, 20151980 and 20150901,CONACyT
and the B.U.A.P. - F.C.E.</p>

<h4 id="references">References</h4>
<div class="ref">
<p class="body">[1] Choo k., Fleet D. J., "People tracking using hybrid monte carlo filtering"
Eighth International Conference on Computer Vision (ICCV'01) vol. 2, pp. 321, 2013.<a href="http://dx.doi.org/10.1109/ICCV.2001.937643" target="_blank">View Article</a></p>

<p class="body">[2] Choukroun, D., "Novel methods for attitude determination using vector observations" Tesis de doctorado, Israel Institute of Technology, Haifa, Israel, 2003.<a href="http://tx.technion.ac.il/~oshman/theses/choukroun.pdf" target="_blank">View Article</a></p>

<p class="body">[3] J.F Guerrero Castellanos, S. Lesecq, N. Marchand, J. Delamare, "A low-cost
air data attitude heading reference system for the tourism airplane applications" IEEE - SENSORS, 2005.<a href="http://dx.doi.org/10.1109/ICSENS.2005.1597968" target="_blank">View Article</a></p>

<p class="body">[4] J.W. Mills, "Lukasiewicz insect: The role of continuous-valued logic in a mobile
robot's sensors, control, and locomotion" Proceedings of the International Symposium on Multiple-Valued Logic, Sacramento, CA, USA, pp. 258-263, 1993.<a href="http://dx.doi.org/10.1109/ISMVL.1993.289550" target="_blank">View Article</a></p>

<p class="body">[5] Lefferts, E.J., F.L. Markley y M.D. Shuster, "Kalman filtering for spacecraft
attitude estimation" Journal of Guidance, Control, and Dynamics, vol. 5, no. 5, 417-429, 1982.<a href="http://arc.aiaa.org/doi/abs/10.2514/3.56190" target="_blank">View Article</a></p>

<p class="body">[6] M., Gavrila BD., "The visual analysis of human movement: a survey" Computer Vision and Image Understanding, vol. 73, no. 1, pp. 88-98, 1999.<a href="http://dx.doi.org/10.1006/cviu.1998.0716" target="_blank">View Article</a></p>

<p class="body">[7] S. Ahrens, D. Levine, G. Andrews, and J.P. How., "Vision-based guidance and control
of a hovering vehicle in unknown, gps-denied environments" Robotics and Automation, ICRA'09. IEEE International Conference, pp. 2643-2648, 2009.<a href="http://dx.doi.org/10.1109/ROBOT.2009.5152680" target="_blank">View Article</a></p>

<p class="body">[8] Salcudean, S., "A globally convergent velocity obsever for rigid body motion" Automatic Control, IEEE Transactions, vol. 36, no. 12, pp. 1493-1497, 1991.<a href="http://dx.doi.org/10.1109/9.106169" target="_blank">View Article</a></p>

<p class="body">[9] Sensors, MicroStrain Microminuature, 2013. <a href="http://www.microstrain.com" target="_blank">View Article</a></p>

<p class="body">[10] Shuster, M.D., "A survey of attitude representations" Journal of the Astronautical
Sciences, vol. 41, no. 4, pp. 439-517, 1993.<a href="http://www.ladispe.polito.it/corsi/Meccatronica/02JHCOR/2011-12/Slides/Shuster_Pub_1993h_J_Repsurv_scan.pdf" target="_blank">View Article</a></p>

<p class="body">[11] Surya, P.N. Singh y J.Waldron Kenneth, "Attitude estimation for dynamic legged
locomotion using range and inertial sensors" Robotics and Automation, ICRA'05, 2005.<a href="http://dx.doi.org/10.1109/ROBOT.2005.1570352" target="_blank">View Article</a></p>

<p class="body">[12] Thienel, J. y R.M. Sanner, "A coupled nonlinear spacecraft attitude controller and
observer with an unknown constant gyro bias and gyro noise" Automatic Control, IEEE Transactions, vol. 48, no. 11, pp. 2011-2014, 2003.<a href="http://dx.doi.org/10.1109/TAC.2003.819289" target="_blank">View Article</a></p>
</div> <!--REF -->
  </div> <!--INDENT -->

  </div> <!--Main Content -->
</div>
</div>

  <footer>
<div class="grid">
  <div class="unit unit-s-1 unit-s-1-3 unit-m-1-3 unit-l-1-3">
    <div class="unit-spacer">
      <ul class="footer-links">
        <li><a href="http://avestia.com/" class="body-link">Avestia Publishing</a></li>
        <li><a href="http://avestia.com/journals" class="body-link">Journals</a></li>
        <li><script>var refURL = window.location.protocol + "//" + window.location.host + window.location.pathname; document.write('<a href="http://international-aset.com/feedback/?refURL=' + refURL+'">Feedback</a>');</script></li>
        <li><a href="http://avestia.com/terms" class="body-link">Terms of Use</a></li>
        <li><a href="../sitemap" class="body-link">Sitemap</a></li>
      </ul>
    </div>
  </div>

  <div class="unit unit-s-1 unit-s-1-3 unit-m-1-3 unit-l-1-3">
    <div class="unit-spacer">
      <p class="body">
        Avestia Publishing,<br>
        International ASET Inc.<br>
        Unit 417, 1376 Bank St.<br>
        Ottawa, ON, Canada, K1H 7Y3<br>
        +1 613-695-3040<br>
        <a href="mailto:info@avestia.com" class="body-link">info@avestia.com</a>
      </p>
    </div>
  </div>

  <div class="unit unit-s-1 unit-s-1-3 unit-m-1-3 unit-l-1-3">
    <div class="unit-spacer social">
    <form class="subscribe" action="../subscribe.php" method="post">
            <span id="sprytextfield2"><input name="email" type="text" id="email" value="Join our mailing list"
              onblur="if (this.value == '') {this.value = 'Join our mailing list';}"
        onfocus="if (this.value == 'Join our mailing list') {this.value = '';}" ></span>
      <input type="submit" name="submit" value="Submit" class="form_button" />
        </form>
        
      <div class="unit unit-s-1-1 unit-m-1-1 unit-l-1-1">
        <a href="https://www.facebook.com/pages/International-Academy-of-Science-Engineering-and-Technology/207827708283" target="blank" title="International ASET Inc. Facebook Page">
          <img src="../img/fb.png" border="0" onmouseover="this.src='../img/fb-hover.png'" onmouseout="this.src='../img/fb.png'">
        </a>
      </div>

      <div class="unit unit-s-1-1 unit-m-1-1 unit-l-1-1">
        <a href="https://twitter.com/ASET_INC" target="blank" title="International ASET Inc. Twitter">
          <img src="../img/twitter.png" border="0" onmouseover="this.src='../img/twitter-hover.png'" onmouseout="this.src='../img/twitter.png'">
        </a>
      </div>

      <div class="unit unit-s-1-1 unit-m-1-1 unit-l-1-1">
        <a href="https://www.linkedin.com/company/1169039" target="blank" title="International ASET Inc. LinkedIn">
          <img src="../img/linkedin.png" border="0" onmouseover="this.src='../img/linkedin-hover.png'" onmouseout="this.src='../img/linkedin.png'">
        </a>
      </div>

      <div class="unit unit-s-1-1 unit-m-1-1 unit-l-1-1">
        <a href="https://plus.google.com/u/0/+International-aset/posts" target="blank" title="International ASET Inc. Google+ Page">
          <img src="../img/google.png" border="0" onmouseover="this.src='../img/google-hover.png'" onmouseout="this.src='../img/google.png'">
        </a>
      </div>

      <p class="body">© Copyright 2015, International ASET Inc. – All Rights Reserved.</p>
    </div>
  </div>

</div>
</footer>
</div>

 <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="../js/cbpAnimatedHeader.min.js"></script>
    <script src="../js/SpryValidationSelect.js" type="text/javascript"></script>

    <script src="../js/SpryValidationTextField.js" type="text/javascript"></script>

    <script src="../js/SpryValidationConfirm.js" type="text/javascript"></script>

    <script src="../js/SpryValidationCheckbox.js" type="text/javascript"></script>
    <script src="../js/SpryValidationTextarea.js" type="text/javascript"></script>

<script src="../js/classie.js"></script>
<script src="../js/jquery.easing.js"></script>
<script src="../js/jquery.mousewheel.js"></script>
<script defer src="../js/demo.js"></script>
<script type="text/javascript" src="../css/animate.min.css"></script>
<script type="text/javascript" src="../js/jnav.js"></script>

<script type="text/javascript">
<!--
var sprytextfield1 = new Spry.Widget.ValidationTextField("sprytextfield1", "none");
var sprytextfield2 = new Spry.Widget.ValidationTextField("sprytextfield2", "email");
var sprytextfield3 = new Spry.Widget.ValidationTextField("sprytextfield3");
var sprytextfield4 = new Spry.Widget.ValidationTextField("sprytextfield4");
var spryselect2 = new Spry.Widget.ValidationSelect("spryselect2", {invalidValue:"-1"});
var sprytextarea1 = new Spry.Widget.ValidationTextarea("sprytextarea1");
var sprytextfield5 = new Spry.Widget.ValidationTextField("sprytextfield5");
var sprytextfield6 = new Spry.Widget.ValidationTextField("sprytextfield6");
//-->
</script>

    <script type="text/javascript">
/*
  Slidemenu
*/
(function() {
  var $body = document.body
  , $menu_trigger = $body.getElementsByClassName('menu-trigger')[0];

  if ( typeof $menu_trigger !== 'undefined' ) {
    $menu_trigger.addEventListener('click', function() {
      $body.className = ( $body.className == 'menu-active' )? '' : 'menu-active';
    });
  }

}).call(this);
</script>

<script type="text/javascript">
/*
  Slidemenu
*/
(function() {
  var $body = document.body
  , $menu_trigger = $body.getElementsByClassName('menu-trigger-1')[0];

  if ( typeof $menu_trigger !== 'undefined' ) {
    $menu_trigger.addEventListener('click', function() {
      $body.className = ( $body.className == 'menu-active' )? '' : 'menu-active';
    });
  }

}).call(this);
</script>
</body>
</html>